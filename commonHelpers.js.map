{"version":3,"file":"commonHelpers.js","sources":["../src/js/render-functions.js","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["export { createMarkup, addMarkup };\nconst gallery = document.querySelector('.gallery');\n\nfunction createMarkup(images){\n \nconst imageGallary = images\n.map(function({webformatURL, largeImageURL, tags, likes, views, comments, downloads})\n    { return(`  <li class=\"gallery-item\">\n   <a href=\"${largeImageURL}\">\n     <img \n         class=\"gallery-image\"\n         src=\"${webformatURL}\" alt =\"${tags}\"/>\n     </a>\n   <ul class=\"info-box\">\n     <li class=\"image-info\">\n       <p class=\"info-name\">Likes</p>\n       <p class=\"info-value\">${likes}</p>\n     </li>\n     <li class=\"image-info\">\n       <p class=\"info-name\">Views</p>\n       <p class=\"info-value\">${views}</p>\n     </li>\n     <li class=\"image-info\">\n       <p class=\"info-name\">Comments</p>\n       <p class=\"info-value\">${comments}</p>\n     </li>\n     <li class=\"image-info\">\n       <p class=\"info-name\">Downloads</p>\n       <p class=\"info-value\">${downloads}</p>\n     </li>\n   </ul>\n   </li>\n`)\n})\n  .join(``);\n  \nreturn imageGallary\n}\n\nfunction addMarkup(string){\n    gallery.innerHTML= string;\n}","\nimport iziToast from \"izitoast\";\n\nexport default function fetchPhotos(search){\nconst searchParams = new URLSearchParams({\n    key :\"34668694-a67447f729748c64ab9ad3b4f\",\n    q: `\"${search}\"`,\n    image_type: \"photo\",\n    orientation:\"horizontal\",\n    safesearch:true\n  });\n\n\nreturn fetch(`https://pixabay.com/api/?${searchParams}`)}","import {createMarkup, addMarkup } from \"./js/render-functions\";\nimport fetchPhotos from \"./js/pixabay-api\";\nimport errorSvg from './img/error.svg'\nimport iziToast from 'izitoast';\nimport simpleLightbox from \"simplelightbox\";\n\n\nconst form = document.querySelector('form')\nconst loader = document.querySelector('.loader-css')\nconst galleryLook = new simpleLightbox('.gallery a')\n\nformNew.addEventListener(\"submit\", (event) => {\n    event.preventDefault();\n    \n    photoList.innerHTML = \"\"; // Очистка галереи перед новым поиском\n    loading.classList.remove(\"visually-hidden\"); // Показываем спиннер\n\n    const query = inputSearch.value.trim();\n    if (query !== \"\") {\n        fetchPhotos(query)\n            .then((photos) => {\n                loading.classList.add(\"visually-hidden\"); // Скрываем спиннер\n                if (photos.length > 0) {\n                    renderUsers(photos, photoList); // Рендерим фото\n                    lightbox.refresh(); // Обновляем SimpleLightbox\n                } else {\n                    iziToast.error({\n                        title: 'Error',\n                        message: 'Sorry, there are no images matching your search query. Please try again!',\n                        position: 'topRight'\n                    });\n                }\n            })\n            .catch((error) => {\n                loading.classList.add(\"visually-hidden\");\n                iziToast.error({\n                    title: 'Error',\n                    message: 'Error fetching images. Try again later.',\n                    position: 'topRight'\n                });\n                console.error(error);\n            });\n    } else {\n        loading.classList.add(\"visually-hidden\");\n        iziToast.error({\n            title: 'Error',\n            message: 'Please enter a search term!',\n            position: 'topRight'\n        });\n    }\n});\n"],"names":["fetchPhotos","search","searchParams","simpleLightbox","event","query","photos","iziToast","error"],"mappings":"6vBACgB,SAAS,cAAc,UAAU,ECElC,SAASA,EAAYC,EAAO,CAC3C,MAAMC,EAAe,IAAI,gBAAgB,CACrC,IAAK,qCACL,EAAG,IAAID,CAAM,IACb,WAAY,QACZ,YAAY,aACZ,WAAW,EACf,CAAG,EAGH,OAAO,MAAM,4BAA4BC,CAAY,EAAE,CAAC,CCN3C,SAAS,cAAc,MAAM,EAC3B,SAAS,cAAc,aAAa,EAC/B,IAAIC,EAAe,YAAY,EAEnD,QAAQ,iBAAiB,SAAWC,GAAU,CAC1CA,EAAM,eAAc,EAEpB,UAAU,UAAY,GACtB,QAAQ,UAAU,OAAO,iBAAiB,EAE1C,MAAMC,EAAQ,YAAY,MAAM,KAAI,EAChCA,IAAU,GACVL,EAAYK,CAAK,EACZ,KAAMC,GAAW,CACd,QAAQ,UAAU,IAAI,iBAAiB,EACnCA,EAAO,OAAS,GAChB,YAAYA,EAAQ,SAAS,EAC7B,SAAS,QAAO,GAEhBC,EAAS,MAAM,CACX,MAAO,QACP,QAAS,2EACT,SAAU,UAClC,CAAqB,CAErB,CAAa,EACA,MAAOC,GAAU,CACd,QAAQ,UAAU,IAAI,iBAAiB,EACvCD,EAAS,MAAM,CACX,MAAO,QACP,QAAS,0CACT,SAAU,UAC9B,CAAiB,EACD,QAAQ,MAAMC,CAAK,CACnC,CAAa,GAEL,QAAQ,UAAU,IAAI,iBAAiB,EACvCD,EAAS,MAAM,CACX,MAAO,QACP,QAAS,8BACT,SAAU,UACtB,CAAS,EAET,CAAC"}